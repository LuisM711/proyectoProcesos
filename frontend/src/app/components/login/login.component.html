<div class="login-container">
  <mat-card class="login-card">
    <mat-card-title *ngIf="!isFirstLogin">Iniciar sesión</mat-card-title>
    <mat-card-title *ngIf="isFirstLogin">Cambio de contraseña</mat-card-title>
    
    <mat-card-content>
      <!-- Formulario de login -->
      <ng-container *ngIf="!isFirstLogin">
        <form (ngSubmit)="login()">
          <mat-form-field appearance="fill">
            <mat-label>Número de cuenta</mat-label>
            <input matInput [(ngModel)]="credentials.numeroDeCuenta" name="numeroDeCuenta" type="text" required />
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Contraseña</mat-label>
            <input matInput [(ngModel)]="credentials.password" name="password" type="password" required />
          </mat-form-field>

          <div class="actions">
            <button mat-raised-button color="primary" type="submit">Iniciar sesión</button>
          </div>
        </form>
      </ng-container>

      <!-- Formulario de cambio de contraseña -->
      <ng-container *ngIf="isFirstLogin">
        <form [formGroup]="changePasswordForm" (ngSubmit)="changePassword()">
          <mat-form-field appearance="fill">
            <mat-label>Nueva contraseña</mat-label>
            <input matInput formControlName="newPassword" type="password" required />
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Confirmar contraseña</mat-label>
            <input matInput formControlName="confirmPassword" type="password" required />
          </mat-form-field>

          <div class="actions">
            <button mat-raised-button color="primary" type="submit" [disabled]="changePasswordForm.invalid">
              Cambiar contraseña
            </button>
          </div>
        </form>
      </ng-container>
    </mat-card-content>
  </mat-card>
</div>
