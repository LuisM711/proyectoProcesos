<div class="container">
    <h1>Consultar mis asistencias</h1>
    <mat-form-field>
        <mat-label>Rango de fechas</mat-label>
        <mat-date-range-input [formGroup]="range" [rangePicker]="picker" [min]="minDate" [max]="maxDate">
            <input  matStartDate formControlName="start" placeholder="Fecha de inicio" readonly>
            <input matInput matEndDate formControlName="end" [max]="maxDate" placeholder="Fecha de fin" readonly>
        </mat-date-range-input>
        <mat-hint>DD/MM/YYYY - DD/MM/YYYY</mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-date-range-picker #picker></mat-date-range-picker>


        @if (range.controls.start.hasError('required')) {
        <mat-error>Fecha de inicio requerida</mat-error>
        }
        @if (range.controls.start.hasError('matDatepickerMax')) {
        <mat-error>No puede ser posterior a hoy</mat-error>
        }
        @if (range.controls.end.hasError('required')) {
        <mat-error>Fecha de fin requerida</mat-error>
        }
        @if (range.controls.end.hasError('matDatepickerMax')) {
        <mat-error>No puede ser posterior a hoy</mat-error>
        }
        @if (range.hasError('dateRange')) {
        <mat-error>La fecha de inicio debe ser anterior a la fecha de fin</mat-error>
        }
    </mat-form-field>

    <!-- <p>Rango seleccionado: {{range.value | json}}</p> -->
    <button mat-flat-button color="primary" [disabled]="isButtonDisabled">Consultar</button>
</div>